info:
  title: "Node Express Server"
  version: "1.0.0"
  description: "Node Express Server With User Creation, Authentication, Password Reset using Email Verification and JWT's."
openapi: "3.0.0"
paths:
  "/user/users":
    get:
      description: "Gets all users."
      tags:
        - User
      responses:
        "200":
          description: "Success"
          content:
            application/json:
              schema:
                type: object
                properties:
                  success:
                    type: boolean
                  message:
                    type: string
                  data:
                    type: array
                    items:
                      $ref: "#/components/schemas/User"
              example:
                success: true
                message: "Successfully fetched all users."
                data: []
        "500":
          description: "Caught error"
          content:
            application/json:
              schema:
                type: object
                properties:
                  success:
                    type: boolean
                  message:
                    type: string
                  data:
                    type: array
                    items:
                      $ref: "#/components/schemas/User"
              example:
                success: false
                message: "An error occurred. Error: something went wrong."
                data: null
  "/auth/bearer":
    get:
      description: "Generates a JWT token for authentication."
      tags:
        - Auth
      responses:
        "200":
          description: "Success"
          content:
            application/json:
              schema:
                type: object
                properties:
                  success:
                    type: boolean
                  message:
                    type: string
                  data:
                    type: string
                    example: "JWT-Token"
        "401":
          description: "Invalid access key"
          content:
            application/json:
              schema:
                type: object
                properties:
                  success:
                    type: boolean
                  message:
                    type: string
                  data:
                    type: string
                    example: "Invalid access key"
        "500":
          description: "Caught error"
          content:
            application/json:
              schema:
                type: object
                properties:
                  success:
                    type: boolean
                  message:
                    type: string
                  data:
                    type: string
                    example: "An error occurred. Error: something went wrong."
  "/user/username-available":
    post:
      description: "Checks if a username is assigned to a user."
      tags:
        - User
      requestBody:
        description: "The username to query with"
        required: true
        content:
          application/json:
            schema:
              type: object
              properties:
                username:
                  type: string
            example:
              username: "username123"
      responses:
        "200":
          description: "Success"
          content:
            application/json:
              schema:
                properties:
                  success:
                    type: boolean
                    example: true
                  usernameAvailable:
                    type: boolean
                    example: true
                  message:
                    type: string
                    example: "Username is available."
        "422":
          description: "Invalid request body"
          content:
            application/json:
              schema:
                properties:
                  success:
                    type: boolean
                    example: false
                  usernameAvailable:
                    type: boolean
                    example: false
                  message:
                    type: string
                    example: "Invalid request body."
        "500":
          description: "Caught error"
          content:
            application/json:
              schema:
                properties:
                  success:
                    type: boolean
                    example: false
                  usernameAvailable:
                    type: boolean
                    example: false
                  message:
                    type: string
                    example: "An error occurred. Error: something went wrong."
  "/user/email-available":
    post:
      description: "Checks if an email is available."
      tags:
        - User
      requestBody:
        description: "The email to query with"
        required: true
        content:
          application/json:
            schema:
              type: object
              properties:
                email:
                  type: string
                  format: email
            example:
              email: "my@email.com"
      responses:
        "200":
          description: "Success"
          content:
            application/json:
              schema:
                properties:
                  success:
                    type: boolean
                    example: true
                  emailAvailable:
                    type: boolean
                    example: true
                  message:
                    type: string
                    example: "Email is available."
        "422":
          description: "Invalid request body"
          content:
            application/json:
              schema:
                properties:
                  success:
                    type: boolean
                    example: false
                  emailAvailable:
                    type: boolean
                    example: false
                  message:
                    type: string
                    example: "Invalid request body."
        "500":
          description: "Caught error"
          content:
            application/json:
              schema:
                properties:
                  success:
                    type: boolean
                    example: false
                  emailAvailable:
                    type: boolean
                    example: false
                  message:
                    type: string
                    example: "An error occurred. Error: something went wrong."
  "/user/send-reset-password-email":
    post:
      description: Sends a password reset email.
      tags:
        - User
      requestBody:
        description: the email address of the account to request a password reset email to.
        required: true
        content:
          application/json:
            schema:
              type: object
              properties:
                email:
                  type: string
                  format: email
            example:
              email: my@email.com
      responses:
        "200":
          description: Success
          content:
            application/json:
              schema:
                properties:
                  success:
                    type: boolean
                    example: true
                  message:
                    type: string
                    example: "Password reset email sent."
                  data:
                    description: "The users MongoDB document _id or undefined if no doc."
                    type: string
                    nullable: true
                    example: "5f3b3b3b3b3b3b3b3b3b3b3b"
        "422":
          description: Invalid request body
          content:
            application/json:
              schema:
                properties:
                  success:
                    type: boolean
                    example: false
                  message:
                    type: string
                    example: "Invalid request body."
                  data:
                    description: "The users MongoDB document _id or undefined if no doc."
                    type: string
                    nullable: true
                    example: null
        "500":
          description: Caught error
          content:
            application/json:
              schema:
                properties:
                  success:
                    type: boolean
                    example: false
                  message:
                    type: string
                    example: "An error occurred. Error: something went wrong."
                  data:
                    description: "The users MongoDB document _id or undefined if no doc."
                    type: string
                    nullable: true
                    example: null
  "/user/login":
    post:
      description: Logs a user in.
      tags:
        - User
      requestBody:
        content:
          application/json:
            schema:
              type: object
              properties:
                usernameOrEmail:
                  type: string
                password:
                  type: string
      responses:
        "200":
          description: Success
          content:
            application/json:
              schema:
                properties:
                  message:
                    type: string
                    enum: [success]
                    example: "success"
                  data:
                    type: object
                    properties:
                      description:
                        type: string
                        example: "Successfully logged in."
                      code:
                        type: number
                        enum: [2000]
                      jwtToken:
                        type: string
                        nullable: true
                        example: zqpmxwonceib123
        "422":
          description: Invalid request body
          content:
            application/json:
              schema:
                properties:
                  message:
                    type: string
                    enum: [error]
                    example: "error"
                  data:
                    type: object
                    properties:
                      description:
                        type: string
                        example: "Invalid request body."
                      code:
                        type: number
                        enum: [1012]
        "500":
          description: Caught error
          content:
            application/json:
              schema:
                properties:
                  message:
                    type: string
                    enum: [error]
                    example: "error"
                  data:
                    type: object
                    properties:
                      description:
                        type: string
                        example: "An error was caught. Error: something went wrong."
                      code:
                        type: number
                        enum: [1018]
  "/user/reset-password":
    post:
      description: Sends a password reset email.
      tags:
        - User
      requestBody:
        description: "JWT and the new password."
        required: true
        content:
          application/json:
            schema:
              type: object
              properties:
                token:
                  type: string
                password:
                  type: string
            example:
              token: "JWT-Token"
              password: "newpassw0rd"
      responses:
        "200":
          description: Success
          content:
            application/json:
              schema:
                properties:
                  success:
                    type: boolean
                  userFound:
                    type: boolean
                  message:
                    type: string
                  data:
                    type: string
                    nullable: true
              example:
                success: true
                userFound: true
                message: "Reset password email sent."
                data: "123objectId321"
        "422":
          description: Invalid request body
          content:
            application/json:
              schema:
                properties:
                  success:
                    type: boolean
                  userFound:
                    type: boolean
                  message:
                    type: string
                  data:
                    type: string
                    nullable: true
              example:
                success: false
                userFound: false
                message: "Invalid request body."
                data: null
        "500":
          description: Caught error
          content:
            application/json:
              schema:
                properties:
                  success:
                    type: boolean
                  userFound:
                    type: boolean
                  message:
                    type: string
                  data:
                    type: string
                    nullable: true
              example:
                success: false
                userFound: false
                message: "An error occurred. Error: something went wrong."
                data: null
  "/user/create":
    post:
      description: Creates a new user.
      tags:
        - User
      requestBody:
        description: "A username, email and a password."
        required: true
        content:
          application/json:
            schema:
              type: object
              properties:
                username:
                  type: string
                email:
                  type: string
                  format: email
                password:
                  type: string
            example:
              username: "username123"
              email: "my@email.com"
              password: "newpassw0rd"
      responses:
        "200":
          description: Success
          content:
            application/json:
              schema:
                properties:
                  success:
                    type: boolean
                    example: true
                  usernameAvailable:
                    type: boolean
                    example: true
                  emailAvailable:
                    type: boolean
                    example: true
                  message:
                    type: string
                    example: "Successfully created the user."
                  data:
                    description: "The users MongoDB document _id or undefined if no doc."
                    type: string
                    nullable: true
                    example: "UNIQUE_ID"
        "422":
          description: Invalid request body
          content:
            application/json:
              schema:
                properties:
                  success:
                    type: boolean
                    example: false
                  usernameAvailable:
                    type: boolean
                    example: false
                  emailAvailable:
                    type: boolean
                    example: false
                  message:
                    type: string
                    example: "Invalid request body."
                  data:
                    description: "The users MongoDB document _id or undefined if no doc."
                    type: string
                    nullable: true
                    example: null
        "500":
          description: Caught error
          content:
            application/json:
              schema:
                properties:
                  success:
                    type: boolean
                    example: false
                  usernameAvailable:
                    type: boolean
                    example: false
                  emailAvailable:
                    type: boolean
                    example: false
                  message:
                    type: string
                    example: "An error occurred. Error: something went wrong."
                  data:
                    description: "The users MongoDB document _id or undefined if no doc."
                    type: string
                    nullable: true
                    example: null
  "/user/delete-all": # TODO delete this. Onlu for testing.
    delete:
      description: Deletes all users.
      tags:
        - User
      responses:
        "200":
          description: Success
          content:
            application/json:
              schema:
                properties:
                  success:
                    type: boolean
                    example: true
                  message:
                    type: string
                    example: "Successfully deleted all users."
        "500":
          description: Caught error
          content:
            application/json:
              schema:
                properties:
                  success:
                    type: boolean
                    example: false
                  message:
                    type: string
                    example: "An error occurred. Error: something went wrong."
  "/user/entry/create":
    post:
      description: "Saves a entry."
      tags:
        - Entry
      requestBody:
        description: "User's document ID and the entry to save."
        required: true
        content:
          application/json:
            schema:
              type: object
              properties:
                userId:
                  type: string
                title:
                  type: string
                entry:
                  type: string
                category:
                  type: string
            example:
              userId: "UNIQUE_ID"
              title: "Entry"
              entry: "A entry about things."
              category: "Today"
      responses:
        "200":
          description: "Success"
          content:
            application/json:
              schema:
                type: object
                properties:
                  success:
                    type: boolean
                  message:
                    type: string
                  data:
                    $ref: "#/components/schemas/User"
              example:
                success: true
                message: "Entry saved."
                data:
                  {
                    "username": "user1",
                    "email": "email@gmail.com",
                    "entries": [],
                    "entryCategories": [],
                  }
        "422":
          description: "Invalid request body"
          content:
            application/json:
              schema:
                type: object
                properties:
                  success:
                    type: boolean
                  message:
                    type: string
                  data:
                    nullable: true
              example:
                success: false
                message: "Invalid request body."
                data: null
        "500":
          description: "Caught error"
          content:
            application/json:
              schema:
                type: object
                properties:
                  success:
                    type: boolean
                  message:
                    type: string
                  data:
                    nullable: true
              example:
                success: false
                message: "An error occurred. Error: something went wrong."
                data: null
  "/user/entry/edit":
    post:
      description: "Edits a entries title, entry and/or category."
      tags:
        - Entry
      requestBody:
        description: "The title, entry or category is required."
        required: true
        content:
          application/json:
            schema:
              type: object
              properties:
                userId:
                  type: string
                entryId:
                  type: string
                title:
                  type: string
                  nullable: true
                entry:
                  type: string
                  nullable: true
                category:
                  type: string
                  nullable: true
            example:
              userId: "UNIQUE_ID"
              entryId: "UNIQUE_ID"
              title: "New Title"
              entry: "New entry"
              category: "New Category"
      responses:
        "200":
          description: "Success"
          content:
            application/json:
              schema:
                type: object
                properties:
                  success:
                    type: boolean
                  message:
                    type: string
                  data:
                    allOf:
                      - $ref: "#/components/schemas/User"
                      - nullable: true
              example:
                success: true
                message: "Entry edited."
                data:
                  {
                    "username": "user1",
                    "email": "email@gmail.com",
                    "entries": [],
                    "entryCategories": [],
                  }
        "422":
          description: "Invalid request body"
          content:
            application/json:
              schema:
                type: object
                properties:
                  success:
                    type: boolean
                  message:
                    type: string
                  data:
                    nullable: true
              example:
                success: false
                message: "Invalid request body."
                data: null
        "500":
          description: "Caught error"
          content:
            application/json:
              schema:
                type: object
                properties:
                  success:
                    type: boolean
                  message:
                    type: string
                  data:
                    nullable: true
              example:
                success: false
                message: "An error occurred. Error: something went wrong."
                data: null
  "/user/entry/entries/{userId}":
    get:
      summary: "Get a users entries."
      tags:
        - Entry
      parameters:
        - in: path
          name: userId
          required: true
          schema:
            type: string
          description: "The users document ID"
info:
  title: "Node Express Server"
  version: "1.0.0"
  description: "Node Express Server With User Creation, Authentication, Password Reset using Email Verification and JWT's."
openapi: "3.0.0"
paths:
  "/user/users":
    get:
      description: "Gets all users."
      tags:
        - User
      responses:
        "200":
          description: "Success"
          content:
            application/json:
              schema:
                type: object
                properties:
                  success:
                    type: boolean
                  message:
                    type: string
                  data:
                    type: array
                    items:
                      $ref: "#/components/schemas/User"
              example:
                success: true
                message: "Successfully fetched all users."
                data: []
        "500":
          description: "Caught error"
          content:
            application/json:
              schema:
                type: object
                properties:
                  success:
                    type: boolean
                  message:
                    type: string
                  data:
                    type: array
                    items:
                      $ref: "#/components/schemas/User"
              example:
                success: false
                message: "An error occurred. Error: something went wrong."
                data: null
  "/auth/bearer":
    get:
      description: "Generates a JWT token for authentication."
      tags:
        - Auth
      responses:
        "200":
          description: "Success"
          content:
            application/json:
              schema:
                type: object
                properties:
                  success:
                    type: boolean
                  message:
                    type: string
                  data:
                    type: string
                    example: "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJkYXRhIjoiMTIzNDU2Nzg5MCIsImlhdCI6MTYxNjIzOTAyMn0.5f3b3b3b3b3b3b3b3b3b3b3b3b"
        "401":
          description: "Invalid access key"
          content:
            application/json:
              schema:
                type: object
                properties:
                  success:
                    type: boolean
                  message:
                    type: string
                  data:
                    type: string
                    example: "Invalid access key"
        "500":
          description: "Caught error"
          content:
            application/json:
              schema:
                type: object
                properties:
                  success:
                    type: boolean
                  message:
                    type: string
                  data:
                    type: string
                    example: "An error occurred. Error: something went wrong."
  "/user/username-available":
    post:
      description: "Checks if a username is assigned to a user."
      tags:
        - User
      requestBody:
        description: "The username to query with"
        required: true
        content:
          application/json:
            schema:
              type: object
              properties:
                username:
                  type: string
            example:
              username: "username123"
      responses:
        "200":
          description: "Success"
          content:
            application/json:
              schema:
                properties:
                  success:
                    type: boolean
                    example: true
                  usernameAvailable:
                    type: boolean
                    example: true
                  message:
                    type: string
                    example: "Username is available."
        "422":
          description: "Invalid request body"
          content:
            application/json:
              schema:
                properties:
                  success:
                    type: boolean
                    example: false
                  usernameAvailable:
                    type: boolean
                    example: false
                  message:
                    type: string
                    example: "Invalid request body."
        "500":
          description: "Caught error"
          content:
            application/json:
              schema:
                properties:
                  success:
                    type: boolean
                    example: false
                  usernameAvailable:
                    type: boolean
                    example: false
                  message:
                    type: string
                    example: "An error occurred. Error: something went wrong."
  "/user/email-available":
    post:
      description: "Checks if an email is available."
      tags:
        - User
      requestBody:
        description: "The email to query with"
        required: true
        content:
          application/json:
            schema:
              type: object
              properties:
                email:
                  type: string
                  format: email
            example:
              email: "my@email.com"
      responses:
        "200":
          description: "Success"
          content:
            application/json:
              schema:
                properties:
                  success:
                    type: boolean
                    example: true
                  emailAvailable:
                    type: boolean
                    example: true
                  message:
                    type: string
                    example: "Email is available."
        "422":
          description: "Invalid request body"
          content:
            application/json:
              schema:
                properties:
                  success:
                    type: boolean
                    example: false
                  emailAvailable:
                    type: boolean
                    example: false
                  message:
                    type: string
                    example: "Invalid request body."
        "500":
          description: "Caught error"
          content:
            application/json:
              schema:
                properties:
                  success:
                    type: boolean
                    example: false
                  emailAvailable:
                    type: boolean
                    example: false
                  message:
                    type: string
                    example: "An error occurred. Error: something went wrong."
  "/user/send-reset-password-email":
    post:
      description: Sends a password reset email.
      tags:
        - User
      requestBody:
        description: the email address of the account to request a password reset email to.
        required: true
        content:
          application/json:
            schema:
              type: object
              properties:
                email:
                  type: string
                  format: email
            example:
              email: my@email.com
      responses:
        "200":
          description: Success
          content:
            application/json:
              schema:
                properties:
                  success:
                    type: boolean
                    example: true
                  message:
                    type: string
                    example: "Password reset email sent."
                  data:
                    description: "The users MongoDB document _id or undefined if no doc."
                    type: string
                    nullable: true
                    example: "5f3b3b3b3b3b3b3b3b3b3b3b"
        "422":
          description: Invalid request body
          content:
            application/json:
              schema:
                properties:
                  success:
                    type: boolean
                    example: false
                  message:
                    type: string
                    example: "Invalid request body."
                  data:
                    description: "The users MongoDB document _id or undefined if no doc."
                    type: string
                    nullable: true
                    example: null
        "500":
          description: Caught error
          content:
            application/json:
              schema:
                properties:
                  success:
                    type: boolean
                    example: false
                  message:
                    type: string
                    example: "An error occurred. Error: something went wrong."
                  data:
                    description: "The users MongoDB document _id or undefined if no doc."
                    type: string
                    nullable: true
                    example: null
  "/user/login":
    post:
      description: Logs a user in.
      tags:
        - User
      requestBody:
        content:
          application/json:
            schema:
              type: object
              properties:
                usernameOrEmail:
                  type: string
                password:
                  type: string
      responses:
        "200":
          description: Success
          content:
            application/json:
              schema:
                properties:
                  message:
                    type: string
                    enum: [success]
                    example: "success"
                  data:
                    type: object
                    properties:
                      description:
                        type: string
                        example: "Successfully logged in."
                      code:
                        type: number
                        enum: [2000]
                      jwtToken:
                        type: string
                        nullable: true
                        example: zqpmxwonceib123
        "422":
          description: Invalid request body
          content:
            application/json:
              schema:
                properties:
                  message:
                    type: string
                    enum: [error]
                    example: "error"
                  data:
                    type: object
                    properties:
                      description:
                        type: string
                        example: "Invalid request body."
                      code:
                        type: number
                        enum: [1012]
        "500":
          description: Caught error
          content:
            application/json:
              schema:
                properties:
                  message:
                    type: string
                    enum: [error]
                    example: "error"
                  data:
                    type: object
                    properties:
                      description:
                        type: string
                        example: "An error was caught. Error: something went wrong."
                      code:
                        type: number
                        enum: [1018]
  "/user/reset-password":
    post:
      description: Sends a password reset email.
      tags:
        - User
      requestBody:
        description: "JWT and the new password."
        required: true
        content:
          application/json:
            schema:
              type: object
              properties:
                token:
                  type: string
                password:
                  type: string
            example:
              token: "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VybmFtZSI6InVzZXIiLCJpYXQiOjE1OTYwNzQwNzcsImV4cCI6MTU5NjA3NzY3N30.5f3b3b3b3b3b3b3b3b3b3b3b3b"
              password: "newpassw0rd"
      responses:
        "200":
          description: Success
          content:
            application/json:
              schema:
                type: object
                properties:
                  success:
                    type: boolean
                  userFound:
                    type: boolean
                  message:
                    type: string
                  data:
                    type: string
                    nullable: true
              example:
                success: true
                userFound: true
                message: "Reset password email sent."
                data: "123objectId321"
        "422":
          description: Invalid request body
          content:
            application/json:
              schema:
                type: object
                properties:
                  success:
                    type: boolean
                  userFound:
                    type: boolean
                  message:
                    type: string
                  data:
                    type: string
                    nullable: true
              example:
                success: false
                userFound: false
                message: "Invalid request body."
                data: null
        "500":
          description: Caught error
          content:
            application/json:
              schema:
                type: object
                properties:
                  success:
                    type: boolean
                  userFound:
                    type: boolean
                  message:
                    type: string
                  data:
                    type: string
                    nullable: true
              example:
                success: false
                userFound: false
                message: "An error occurred. Error: something went wrong."
                data: null
  "/user/create":
    post:
      description: Creates a new user.
      tags:
        - User
      requestBody:
        description: "A username, email and a password."
        required: true
        content:
          application/json:
            schema:
              type: object
              properties:
                username:
                  type: string
                email:
                  type: string
                  format: email
                password:
                  type: string
            example:
              username: "username123"
              email: "my@email.com"
              password: "newpassw0rd"
      responses:
        "200":
          description: Success
          content:
            application/json:
              schema:
                properties:
                  success:
                    type: boolean
                    example: true
                  usernameAvailable:
                    type: boolean
                    example: true
                  emailAvailable:
                    type: boolean
                    example: true
                  message:
                    type: string
                    example: "Successfully created the user."
                  data:
                    description: "The users MongoDB document _id or undefined if no doc."
                    type: string
                    nullable: true
                    example: "5f3b3b3b3b3b3b3b3b3b3b3b"
        "422":
          description: Invalid request body
          content:
            application/json:
              schema:
                properties:
                  success:
                    type: boolean
                    example: false
                  usernameAvailable:
                    type: boolean
                    example: false
                  emailAvailable:
                    type: boolean
                    example: false
                  message:
                    type: string
                    example: "Invalid request body."
                  data:
                    description: "The users MongoDB document _id or undefined if no doc."
                    type: string
                    nullable: true
                    example: null
        "500":
          description: Caught error
          content:
            application/json:
              schema:
                properties:
                  success:
                    type: boolean
                    example: false
                  usernameAvailable:
                    type: boolean
                    example: false
                  emailAvailable:
                    type: boolean
                    example: false
                  message:
                    type: string
                    example: "An error occurred. Error: something went wrong."
                  data:
                    description: "The users MongoDB document _id or undefined if no doc."
                    type: string
                    nullable: true
                    example: null
  "/user/delete-all": # TODO delete this. Onlu for testing.
    delete:
      description: Deletes all users.
      tags:
        - User
      responses:
        "200":
          description: Success
          content:
            application/json:
              schema:
                properties:
                  success:
                    type: boolean
                    example: true
                  message:
                    type: string
                    example: "Successfully deleted all users."
        "500":
          description: Caught error
          content:
            application/json:
              schema:
                properties:
                  success:
                    type: boolean
                    example: false
                  message:
                    type: string
                    example: "An error occurred. Error: something went wrong."
  "/user/entry/create":
    post:
      description: "Saves a entry."
      tags:
        - Entry
      requestBody:
        description: "User's document ID and the entry to save."
        required: true
        content:
          application/json:
            schema:
              type: object
              properties:
                userId:
                  type: string
                title:
                  type: string
                entry:
                  type: string
                category:
                  type: string
            example:
              userId: "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9"
              title: "Entry"
              entry: "A entry about things."
              category: "Today"
      responses:
        "200":
          description: "Success"
          content:
            application/json:
              schema:
                type: object
                properties:
                  success:
                    type: boolean
                  message:
                    type: string
                  data:
                    $ref: "#/components/schemas/User"
              example:
                success: true
                message: "Entry saved."
                data:
                  {
                    "username": "user1",
                    "email": "email@gmail.com",
                    "entries": [],
                    "entryCategories": [],
                  }
        "422":
          description: "Invalid request body"
          content:
            application/json:
              schema:
                type: object
                properties:
                  success:
                    type: boolean
                  message:
                    type: string
                  data:
                    nullable: true
              example:
                success: false
                message: "Invalid request body."
                data: null
        "500":
          description: "Caught error"
          content:
            application/json:
              schema:
                type: object
                properties:
                  success:
                    type: boolean
                  message:
                    type: string
                  data:
                    nullable: true
              example:
                success: false
                message: "An error occurred. Error: something went wrong."
                data: null
  "/user/entry/edit":
    post:
      description: "Edits a entries title, entry and/or category."
      tags:
        - Entry
      requestBody:
        description: "The title, entry or category is required."
        required: true
        content:
          application/json:
            schema:
              type: object
              properties:
                userId:
                  type: string
                entryId:
                  type: string
                title:
                  type: string
                  nullable: true
                entry:
                  type: string
                  nullable: true
                category:
                  type: string
                  nullable: true
            example:
              userId: "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9"
              entryId: "eyJhbGciOiJIUzI1NiI4234242423423VCJ9"
              title: "New Title"
              entry: "New entry"
              category: "New Category"
      responses:
        "200":
          description: "Success"
          content:
            application/json:
              schema:
                type: object
                properties:
                  success:
                    type: boolean
                  message:
                    type: string
                  data:
                    allOf:
                      - $ref: "#/components/schemas/User"
                      - nullable: true
              example:
                success: true
                message: "Entry edited."
                data:
                  {
                    "username": "user1",
                    "email": "email@gmail.com",
                    "entries": [],
                    "entryCategories": [],
                  }
        "422":
          description: "Invalid request body"
          content:
            application/json:
              schema:
                type: object
                properties:
                  success:
                    type: boolean
                  message:
                    type: string
                  data:
                    nullable: true
              example:
                success: false
                message: "Invalid request body."
                data: null
        "500":
          description: "Caught error"
          content:
            application/json:
              schema:
                type: object
                properties:
                  success:
                    type: boolean
                  message:
                    type: string
                  data:
                    nullable: true
              example:
                success: false
                message: "An error occurred. Error: something went wrong."
                data: null
  "/user/entry/entries/{userId}":
    get:
      summary: "Get a users entries."
      tags:
        - Entry
      parameters:
        - in: path
          name: userId
          required: true
          schema:
            type: string
          description: "The users document ID"
          example: "666655343535a02523522ac32423"
      responses:
        "200":
          description: "Success"
          content:
            application/json:
              schema:
                type: object
                properties:
                  success:
                    type: boolean
                  message:
                    type: string
                  data:
                    allOf:
                      - $ref: "#/components/schemas/User"
              example:
                success: true
                message: "Successfully fetched the entries."
                data:
                  {
                    "username": "user1",
                    "email": "email@gmail.com",
                    "entries": [],
                    "entryCategories": [],
                  }
        "422":
          description: "Invalid request body"
          content:
            application/json:
              schema:
                type: object
                properties:
                  success:
                    type: boolean
                  message:
                    type: string
                  data:
                    nullable: true
              example:
                success: false
                message: "Invalid request body."
                data: null
        "500":
          description: "Caught error"
          content:
            application/json:
              schema:
                type: object
                properties:
                  success:
                    type: boolean
                  message:
                    type: string
                  data:
                    nullable: true
              example:
                success: false
                message: "An error occurred. Error: something went wrong."
                data: null
  "/user/entry/delete":
    put:
      description: "Deletes entry(s)."
      tags:
        - Entry
      requestBody:
        description: "A users document ID and a list of entry document id's."
        required: true
        content:
          application/json:
            schema:
              type: object
              properties:
                userId:
                  description: "The user's document id."
                  type: string
                entryIds:
                  description: "The entry document id(s)."
                  type: array
                  items:
                    type: string
            example:
              userId: "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9"
              entryIds: ["423221", "421221"]
      responses:
        "200":
          description: "Success"
          content:
            application/json:
              schema:
                type: object
                properties:
                  success:
                    type: boolean
                  message:
                    type: string
                  data:
                    allOf:
                      - $ref: "#/components/schemas/User"
                      - nullable: true
              example:
                success: true
                message: "Entry(s) deleted."
                data:
                  {
                    "username": "user1",
                    "email": "email@gmail.com",
                    "entries": [],
                    "entryCategories": [],
                  }
        "422":
          description: "Invalid request body"
          content:
            application/json:
              schema:
                type: object
                properties:
                  success:
                    type: boolean
                  message:
                    type: string
                  data:
                    nullable: true
              example:
                success: false
                message: "Invalid request body."
                data: null
        "500":
          description: "Caught error"
          content:
            application/json:
              schema:
                type: object
                properties:
                  success:
                    type: boolean
                  message:
                    type: string
                  data:
                    nullable: true
              example:
                success: false
                message: "An error occurred. Error: something went wrong."
                data: null
  "/user/entry/category/create":
    post:
      description: "Saves a new category."
      tags:
        - Entry
      requestBody:
        description: "A users document ID and a category string."
        required: true
        content:
          application/json:
            schema:
              type: object
              properties:
                userId:
                  description: "The user's document id."
                  type: string
                category:
                  description: "The category string."
                  type: string
            example:
              userId: "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9"
              category: "New Category"
      responses:
        "200":
          description: "Success"
          content:
            application/json:
              schema:
                type: object
                properties:
                  success:
                    type: boolean
                  message:
                    type: string
                  data:
                    allOf:
                      - $ref: "#/components/schemas/User"
                      - nullable: true
              example:
                success: true
                message: "Category saved."
                data:
                  {
                    "username": "user1",
                    "email": "email@gmail.com",
                    "entries": [],
                    "entryCategories": ["New Category"],
                  }
        "422":
          description: "Invalid request body"
          content:
            application/json:
              schema:
                type: object
                properties:
                  success:
                    type: boolean
                  message:
                    type: string
                  data:
                    nullable: true
              example:
                success: false
                message: "Invalid request body."
                data: null
        "500":
          description: "Caught error"
          content:
            application/json:
              schema:
                type: object
                properties:
                  success:
                    type: boolean
                  message:
                    type: string
                  data:
                    nullable: true
              example:
                success: false
                message: "An error occurred. Error: something went wrong."
                data: null
  "/user/entry/category/create-many":
    post:
      description: "Saves a category on the entry(s)."
      tags:
        - Entry
      requestBody:
        description: "A users document ID, the entry document id's, and a category string."
        required: true
        content:
          application/json:
            schema:
              type: object
              properties:
                userId:
                  description: "The user's document id."
                  type: string
                entryIds:
                  description: "The entry document id(s)."
                  type: array
                  items:
                    type: string
                category:
                  description: "The category string."
                  type: string
            example:
              userId: "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9"
              entryIds:
                [
                  "eyJhbGciOifgIUzI1NiIsInR5cCI6IkpXVCJ9",
                  "eyJhbhgiOiJIUzI1NiIsInR5cCI6IkpXVCJ9",
                ]
              category: "New Category"
      responses:
        "200":
          description: "Success"
          content:
            application/json:
              schema:
                type: object
                properties:
                  success:
                    type: boolean
                  message:
                    type: string
                  data:
                    allOf:
                      - $ref: "#/components/schemas/User"
                      - nullable: true
              example:
                success: true
                message: "Entries updated."
                data:
                  {
                    "username": "user1",
                    "email": "email@gmail.com",
                    "entries": [],
                    "entryCategories": ["New Category"],
                  }
        "422":
          description: "Invalid request body"
          content:
            application/json:
              schema:
                type: object
                properties:
                  success:
                    type: boolean
                  message:
                    type: string
                  data:
                    nullable: true
              example:
                success: false
                message: "Invalid request body."
                data: null
        "500":
          description: "Caught error"
          content:
            application/json:
              schema:
                type: object
                properties:
                  success:
                    type: boolean
                  message:
                    type: string
                  data:
                    nullable: true
              example:
                success: false
                message: "An error occurred. Error: something went wrong."
                data: null
  "/user/entry/category/delete":
    delete:
      description: "Deletes a entry category."
      tags:
        - Entry
      parameters:
        - in: path
          name: userId
          required: true
          schema:
            type: string
          description: "The user's document id."
          example: "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9"
        - in: path
          name: categoryId
          required: true
          schema:
            type: string
          description: "The category document id."
          example: "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9"
      responses:
        "200":
          description: "Success"
          content:
            application/json:
              schema:
                type: object
                properties:
                  success:
                    type: boolean
                  message:
                    type: string
                  data:
                    allOf:
                      - $ref: "#/components/schemas/User"
                      - nullable: true
              example:
                success: true
                message: "Category deleted."
                data:
                  {
                    "username": "user1",
                    "email": "email@gmail.com",
                    "entries": [],
                    "entryCategories": [],
                  }
        "422":
          description: "Invalid request parameters"
          content:
            application/json:
              schema:
                type: object
                properties:
                  success:
                    type: boolean
                  message:
                    type: string
                  data:
                    nullable: true
              example:
                success: false
                message: "Invalid request parameters."
                data: null
        "500":
          description: "Caught error"
          content:
            application/json:
              schema:
                type: object
                properties:
                  success:
                    type: boolean
                  message:
                    type: string
                  data:
                    nullable: true
              example:
                success: false
                message: "An error occurred. Error: something went wrong."
                data: null
  "/user/entry/category/edit":
    put:
      description: "Edits a entry category."
      tags:
        - Entry
      requestBody:
        description: "The userId, categoryId, and the new category details."
        required: true
        content:
          application/json:
            schema:
              type: object
              properties:
                userId:
                  type: string
                categoryId:
                  type: string
                category:
                  type: string
                  nullable: true
                selected:
                  type: boolean
                  nullable: true
            example:
              userId: "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9"
              categoryId: "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9"
              category: "Updated Category"
              selected: true
      responses:
        "200":
          description: "Success"
          content:
            application/json:
              schema:
                type: object
                properties:
                  success:
                    type: boolean
                  message:
                    type: string
                  data:
                    allOf:
                      - $ref: "#/components/schemas/User"
                      - nullable: true
              example:
                success: true
                message: "Category updated."
                data:
                  {
                    "username": "user1",
                    "email": "email@gmail.com",
                    "entries": [],
                    "entryCategories": ["Updated Category"],
                  }
        "422":
          description: "Invalid request body"
          content:
            application/json:
              schema:
                type: object
                properties:
                  success:
                    type: boolean
                  message:
                    type: string
                  data:
                    nullable: true
              example:
                success: false
                message: "Invalid request body."
                data: null
        "500":
          description: "Caught error"
          content:
            application/json:
              schema:
                type: object
                properties:
                  success:
                    type: boolean
                  message:
                    type: string
                  data:
                    nullable: true
              example:
                success: false
                message: "An error occurred. Error: something went wrong."
                data: null
components:
  schemas:
    User:
      type: object
      properties:
        username:
          type: string
        email:
          type: string
          format: email
        entries:
          type: array
          items:
            $ref: "#/components/schemas/Entry"
        entryCategories:
          type: array
          items:
            type: object
            properties:
              category:
                type: string
              selected:
                type: boolean
    Entry:
      type: object
      properties:
        title:
          type: string
          example: "Entry 1"
        entry:
          type: string
          example: "Entry 1"
        category:
          type: string
        date:
          type: string
        selected:
          type: boolean
tags:
  - name: User
    description: "Create a new user | Authenticate a user | Password Reset Email Sending | Email availability | Usernamesername availability"
